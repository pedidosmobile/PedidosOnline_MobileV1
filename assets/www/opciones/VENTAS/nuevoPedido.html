<script type="text/javascript">
    //Consulta de terceros - clientes
  self.conexion.transaction(function(tx){
        tx.executeSql('select ter_rowidPortal, ter_razonSocial from tercero',[],
         
        function(tx,rs) {
           if (rs.rows.length > 0) {
        
             var source  = [ ];
             var mapping = { };

            for(var a = 0; a < rs.rows.length; a++){
                var elemento=rs.rows.item(a);
                 
                source.push(elemento.ter_razonSocial);
                mapping[elemento.ter_razonSocial] = elemento.ter_rowidPortal;
            }

          $('#tag_cliente').autocomplete({
            source: source,
            select: function(event, ui) {
              $('#tag_cliente').val(mapping[ui.item.value]);
              BuscarSucursales(mapping[ui.item.value]);
            }
          });
         }
        },
        function(tx, err) {
         console.log("Error al cargar sucursales "+err);
        });
        });

    //Consulta de sucursales por id cliente - string id_tercero
  function BuscarSucursales(id_tercero){
       self.conexion.transaction(function(tx){
          tx.executeSql('select suc_rowidPortal,suc_nombre from sucursal where ter_id = ?',[id_tercero],
         
          function(tx,rs) {
            if (rs.rows.length > 0) {
        
             var source2  = [ ];
             var mapping2 = { };

            for(var a = 0; a < rs.rows.length; a++){
                var elemento=rs.rows.item(a);
                 
                source2.push(elemento.suc_nombre);
                mapping2[elemento.suc_nombre] = elemento.suc_rowidPortal;
            }

        $('#tag_sucursal').autocomplete({
            source: source2,
            select: function(event, ui) {
                $('#tag_sucursal').val(mapping2[ui.item.value]);
                BuscarPtos_Envio(mapping2[ui.item.value]);
            }
           });
         }
        },
        function(tx, err) {
           console.log("Error al cargar sucursales "+err);
        });
       });
       }

   //Consulta de puntos de envio por id sucursal - string id_suc
  function BuscarPtos_Envio(id_suc){
       self.conexion.transaction(function(tx){
          tx.executeSql('select pto_rowiPortal, pto_nombre from punto_envio where suc_id = ?',[id_suc],
         
          function(tx,rs) {
            if (rs.rows.length > 0) {
        
             var source  = [ ];
             var mapping = { };

            for(var a = 0; a < rs.rows.length; a++){
                var elemento=rs.rows.item(a);
                 
                source.push(elemento.pto_nombre);
          mapping[elemento.pto_nombre] = elemento.pto_rowiPortal;
            }

          $('#tag_ptoEnvio').autocomplete({
              source: source,
              select: function(event, ui) {
                  $('#tag_ptoEnvio').val(mapping[ui.item.value]);
              }
          });
             }
          },
          function(tx, err) {
             console.log("Error al cargar sucursales "+err);
          });
         });
        
        }

</script>

<link rel="stylesheet" type="text/css" href="css/tabs1.css" />

<!-- <div class="borde-h1 color2"></div>
<h1>Captura de Pedidos</h1>  -->

<!--Contenedor-->
<div id="container_tabs">
  <!--Pestaña 1 activa por defecto-->
  <input id="tab-1" type="radio" name="tab-group" checked="checked" />
  <label for="tab-1">1. Encabezado
  <div></div> <!-- Barra indicadora de seleccion superior de la pestaña -->
  </label>

  <!--Pestaña 2 inactiva por defecto-->
  <input id="tab-2" type="radio" name="tab-group" />
  <label for="tab-2">2. Detalle
  <div></div>
  </label>

  <!--Pestaña 3 inactiva por defecto-->
  <input id="tab-3" type="radio" name="tab-group" />
  <label for="tab-3">3. Balance
  <div></div> <!-- Barra indicadora de seleccion superior de la pestaña -->
  </label>

  <!--Contenido a mostrar/ocultar-->
  <div id="content">
    <!--Contenido de la Pestaña 1-->
    <div id="content-1">
      <form id="nuevo_encabezado" method="post">

         <input id="tag_cliente" type="text" placeholder="Cliente"/>

         <input id="tag_sucursal" type="text" placeholder="Sucursal"/>
      
         <input id="tag_ptoEnvio" type="text" placeholder="Punto de envío"/>

             <input type="text" class="date-picker form-control" data-date-start-view="decade" data-date-format="mm/dd/yy" data-date="02/01/99" value="02/01/99" name="birthday" placeholder="MM/DD/YY" />

             <textarea placeholder="Observaciones..." rows="5" cols="50" style="height: 100%;"></textarea>
             </br>
             <button type="button" class="btn_pedidos" style="float: right;">Siguiente ></button>
        </form>   
    </div>
  
  <!--Contenido de la Pestaña 2-->
  <div id="content-2">
    <form id="nuevo_detallado" method="post">
      <input type="text" style="margin-top: 0px !important;" placeholder="Seleccionar item"/>      

        <div style="width: 90%;margin: auto;margin-top: 15px;">  
          Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
          tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
          quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
          consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
          cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
          proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </div>  
    </form>   
  </div>
  <!--Contenido de la Pestaña 3-->
   <div id="content-3">
      Contenido3
   </div>
  </div>
</div>